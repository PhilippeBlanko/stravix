<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stravix</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 font-sans text-gray-900">
<div class="max-w-2xl mx-auto p-6">
    <!-- En-tête avec logo et profil -->
    <header class="flex justify-between items-center mb-8">
        <h1 class="text-2xl font-bold text-gray-900">Stravix</h1>
    </header>

    <!-- Card principale avec le résumé -->
    <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mb-6">
        <div class="flex justify-between items-start mb-6">
            <div>
                <p class="text-sm text-gray-500 mb-1">Total Distance</p>
                <h2 id="totalDistance" class="text-3xl font-semibold">10 km (6,21 mi)</h2>
                <p class="text-sm text-green-600 font-medium">+12.20% cette semaine</p>
            </div>
        </div>

        <!-- Barre de progression -->
        <div class="space-y-2">
            <div class="flex justify-between text-sm">
                <span class="text-gray-600">Progrès hebdomadaire</span>
                <span id="progressPercentage" class="font-medium">100%</span>
            </div>
            <div class="w-full bg-gray-100 rounded-full h-2">
                <div id="progressBar" class="bg-blue-600 h-2 rounded-full" style="width: 100%"></div>
            </div>
        </div>
    </div>

    <!-- Navigation des semaines -->
    <div class="flex justify-between items-center mb-6">
        <button id="prevWeek" class="text-gray-600 hover:text-gray-900 transition-colors">
            ← Semaine précédente
        </button>
        <span id="weekDate" class="text-sm font-medium">2 févr. - 8 févr. 2025</span>
        <button id="nextWeek" class="text-gray-600 hover:text-gray-900 transition-colors">
            Semaine suivante →
        </button>
    </div>

    <!-- Liste des sessions -->
    <div id="sessionsContainer" class="bg-white rounded-2xl shadow-sm border border-gray-100 divide-y divide-gray-100">
    </div>
</div>

<script>
  function kmToMiles(km) {
    return (km * 0.621371).toFixed(2);
  }

  const weeks = [
    {
      week: 1,
      date: '2 févr. 2025 - 8 févr. 2025',
      distance: 10,
      sessions: [
        { day: 'Lundi', distance: 3, completed: true },
        { day: 'Mercredi', distance: 3, completed: true },
        { day: 'Samedi', distance: 4, completed: true }
      ]
    },
    {
      week: 2,
      date: '9 févr. 2025 - 15 févr. 2025',
      distance: 10,
      sessions: [
        { day: 'Lundi', distance: 3, completed: false },
        { day: 'Mercredi', distance: 3, completed: false },
        { day: 'Samedi', distance: 4, completed: false }
      ]
    }
  ];

  let currentWeekIndex = 0;

  function getInitial(day) {
    return day.charAt(0);
  }

  function renderWeek(weekIndex) {
    const week = weeks[weekIndex];
    const progress = week.sessions.filter(s => s.completed).length / week.sessions.length * 100;

    // Mise à jour de la date
    document.getElementById('weekDate').textContent = week.date;

    // Mise à jour de la distance totale
    document.getElementById('totalDistance').textContent = `${week.distance} km`;

    // Mise à jour de la barre de progression
    document.getElementById('progressBar').style.width = `${progress}%`;
    document.getElementById('progressPercentage').textContent = `${Math.round(progress)}%`;

    // Mise à jour des sessions
    const sessionsContainer = document.getElementById('sessionsContainer');
    sessionsContainer.innerHTML = week.sessions.map(session => `
            <div class="p-4 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-10 h-10 rounded-xl ${session.completed ? 'bg-green-100' : 'bg-gray-100'} flex items-center justify-center">
                        <span class="${session.completed ? 'text-green-600' : 'text-gray-600'} font-medium">${getInitial(session.day)}</span>
                    </div>
                    <div>
                        <h3 class="font-medium">${session.day}</h3>
                        <p class="text-sm text-gray-500">${session.distance} km (${kmToMiles(session.distance)} miles)</p>
                    </div>
                </div>
                <input type="checkbox"
                       ${session.completed ? 'checked' : ''}
                       class="w-5 h-5 rounded-md border-gray-300 text-blue-600 focus:ring-blue-500">
            </div>
        `).join('');
  }

  // Event Listeners
  document.getElementById('prevWeek').addEventListener('click', () => {
    if (currentWeekIndex > 0) {
      currentWeekIndex--;
      renderWeek(currentWeekIndex);
    }
  });

  document.getElementById('nextWeek').addEventListener('click', () => {
    if (currentWeekIndex < weeks.length - 1) {
      currentWeekIndex++;
      renderWeek(currentWeekIndex);
    }
  });

  // Initial render
  renderWeek(currentWeekIndex);
</script>
</body>
</html>
